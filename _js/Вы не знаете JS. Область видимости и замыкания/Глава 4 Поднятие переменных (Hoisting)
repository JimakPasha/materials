Глава 4: Поднятие переменных (Hoisting)

Объявления функций поднимаются, как мы только что видели. А функциональные выражения — нет.

Как объявления функций, так и переменных поднимаются. Но тонкость (которая поможет объяснить множественные объявления "дубликатов" в коде) в том, что сперва поднимаются функции, а затем уже переменные.

У нас есть соблазн смотреть на var a = 2; как на один оператор, но Движок JavaScript видит это по-другому. Он видит var a и a = 2 как два отдельных оператора, первый — как задачу фазы компиляции, а второй — как задачу фазы выполнения.

Это приводит к тому, что все объявления в области видимости, независимо от того где они появляются, обрабатываются первыми, до того, как сам код будет выполнен. Можно мысленно представить себе это как объявления (переменных и функций), "переезжающие" в начало их соответствующих областей видимости, что мы называем "поднятие (hoisting)".

Сами объявления поднимаются, а присваивания, даже присваивания функциональных выражений, не поднимаются.

Остерегайтесь дублей объявлений, особенно смешанных обычных объявлений var и объявлений функций — вас будут поджидать неприятности!